# HTML5+CSS3の新しい教科書 Lesson7/Lesson8/Lesson9
[全体目次へ戻る](index.md)
## 目次
[TOC]

## Lesson7 リストとテーブルを組む
### 7.1 リストの使いどころ
リストは、文章として伝えるよりも、単語や項目として列挙したほうがわかりやすいときに使う。

HTMLには順序がないリストを表す「ul要素」と順序付きのリスト「ol要素」、そして用語とその意味・説明を列挙した用語集のための「dl要素」の3種類のリストがある。ul、olの中の1つ1つのリスト項目は「li要素」で表し、dlの中の項目は「dt要素」と「dd要素」の組で表す。

### 7.2 ulとolの使い分け
リストの項目を入れ替えても意味が変わらない場合はulを使う。またグローバルナビゲーションなど並列的なリンクのリストにもulを使う。

順番に意味があるリストにはolを使う。ol要素内の各li要素には標準では1から順番に番号がふられていく。開始番号を変えるには「start属性」に数値を設定する。`<ol start="5">...</ol>`とすれば5から順番に番号がふられる。負数を指定した場合も番号は1ずつ増える(..., -2, -1, 0, 1, ...)。番号を降順に変えたい場合は「reversed属性」を使えば良い(HTML5からの新要素)。また、番号を途中で変えるには、li要素の「value属性」に数値を設定する。


### 7.3 リストマークを変更
ul要素の各li要素には「・」が、ol要素の各li要素には「(アラビア数字).」が自動的に付けられる。この「リストマーク」を変更するには「list-style-typeプロパティ」を使う。例えば「・」を四角に変えたい場合は`{ list-style-type: square }`とする。マークを消すには「none」を指定する。値による見た目は下記リンクを参照。

[リストマークの一覧(外部リンク)](https://developer.mozilla.org/ja/docs/Web/CSS/list-style-type)

### 7.4 リストマークに画像を使う/リストマークの表示位置
リストマークとして画像を表示するには「list-style-imageプロパティ」を使う。用いる画像は文字サイズに合わせる必要がある。

リストマークはデフォルトでは項目の外側に表示されるが、`{ list-style-position: inside }`とすればマークを内側に表示することができる。

リストマークのスタイルを一括で指定する「list-styleプロパティ」もある。type, image, positionの各値を半角スペースで区切って指定する。順不同。

### 7.5 入れ子リスト
リストのある項目の中に別のリストを入れることを入れ子(ネスト)という。入れ子になったリストは自動的にインデントされる。以下のように内側のul、olは`<li>...</li>`で囲まれるようにするのが正しい。

```html
<ul>
  <li>ulの項目1
    <ol>
      <li>ulの中のolの項目1</li>
      <li>ulの中のolの項目2</li>
      <li>ulの中のolの項目3</li>
    </ol>
  </li>
  <li>ulの項目2</li>
  <li>ulの項目3</li>
</ul>
```

↓

+ ulの項目1
    1. ulの中のolの項目1
    2. ulの中のolの項目2
    3. ulの中のolの項目3
+ ulの項目2
+ ulの項目3

### 7.6 dl要素の使い方
dl要素は「定義リスト」を意味し、「用語」と「用語の解説」のような対となる情報をリストとして表すのに使う。dt要素とdd要素は必ず対で使うが、それぞれの数の関係は1対1、1対多、多対1、多対多のいずれも可能。CSSによってdl要素を表のように表示することもできる。

```html
<dl>
  <dt>曲名</dt>
  <dd>マ・メール・ロワ</dd>
  <dt>作曲者</dt>
  <dd>ラヴェル</dd>
  <dt>楽曲構成</dt>
  <dd>1楽章: ...</dd>
  <dd>2楽章: ...</dd>
  <dd>3楽章: ...</dd>
  ...
</dl>
```

### 7.7 テーブルの基本
table要素は表組みを表す。かつてはレイアウト目的で使われていたが本来の目的ではない。table要素内に以下の3つの要素を配置して表組みを表現する。

+ tr要素: 表の行(横方向)を表す
+ th要素: 表の見出し
+ td要素: 表の内容

th要素とtd要素の数は各行で同じ数になるようにする。td要素の中では一般的な文章をマークアップする要素を使え、その中で独自の見出し階層を作ることもできる。

また表の数行をグループとして扱うための3つの要素がある。

+ thead要素: 見出し行を表す。中に入れられるのはth要素のみ
+ tbody要素: 表の本体部分
+ tfoot要素: 表のフッター。例えば会計表の最終行などに使う

tbody要素を使う場合は、すべての行(tr要素)をthead、tbody、tfootのいずれかで囲む必要がある。また、theadやtfootは同じ表に一度のみ記述する。

### 7.8 表にキャプションをつける
table要素の最初の子要素として「caption要素」を書くことで表の内容を表す文章であるキャプションをつけることができる。caption要素の中でp要素など文章構造を表す要素を使える。

### 7.9 セルを結合する
th要素やtd要素に対して「colspan属性」を指定することで水平方向に、「rowspan属性」を指定することで垂直方向にセルを結合することができる。属性の値には結合するセル数を指定する。結合によって消えるセルに対応するthやtd要素を削除する必要がある。

## Lesson8 ナビゲーションをつくる
### 8.1 ナビゲーションの役割
ナビゲーションは、ユーザーがサイト内を自由に行き来できるよう適切に案内するためにある。主要なナビゲーション(ページ上部のグローバルナビゲーションなど)をマークアップするためにHTML5では「nav要素」が追加された。nav要素の中はリンクをul要素によるリストで構成する。

[ナビゲーションの例](example/l8.html)

### 8.2 ナビゲーションの基本形
リンクのリストをnav要素で囲んだだけでは、見た目はナビゲーションらしくならない。CSSで見た目を設定していく必要がある。

まず、li要素を装飾しやすくするために、見た目をブロックレベル要素として扱えるように`display: block;`という指定を行う。li要素を横並びに表示させるには`float: left;`と指定する。最後に「clearfix」と呼ばれる手法でfloatによって崩れるレイアウトを修正する。

### 8.3 ナビゲーションを横並びにする手法
li要素に`float: left;`を指定する方法以外にも、`display: inline;`や`display: inline-block;`を指定することで横並び表示を実現できるが、前者は幅や高さ、上下のマージンの設定ができず、後者は古いブラウザに対応していない。

ul要素内での左右中央揃えの方法は、`display: inline;`や`display: inline-block;`を使う方法では`text-align: center/right;`を指定するだけ。`display: block;`と`float: left;`を組み合わせる方法では、中央揃えや右揃えになるようにul要素のpaddingを計算して設定するしかない。

### 8.4 リンクエリアを広げる
ナビゲーションのボックス内のテキストのみではなく、ボックス全体にリンクエリアを広げる場合は、li要素に指定した`display: block;`などの見た目を調整する部分を削除し、li要素の中のa要素`li a`に対し`display: block`を指定して見た目を調整していけば良い。li要素をa要素で囲むことはできない。

### 8.5 ナビゲーションに画像を使う
1つ目の方法は背景だけの画像を用意し、backgroundプロパティで文字の背景に設定するもの。背景に設定する画像は、繰り返しによって全体を表示することを意図し、一部を切り取ったものにすることでファイルサイズを削減できる。

2つ目の方法は、li要素のテキストを`text-indent: 100%`によって外に押し出し、`overflow: hidden`で非表示にした上で、リンク文字を含んだ画像をbackgroundプロパティで表示するものである。この手法を「画像置換」という。

### 8.6 ボタン画像のロールオーバー
画像リンクのロールオーバーと同じ方法で可能。[6.6参照](l56.md#66)。

複数の画像を連結した1つの画像を用意し、状況に応じてCSSのbackground-positionプロパティで画像のどこを表示するかを指定する「CSSスプライト」という手法もある。座標指定する場合は`background-position: x座標 y座標;`のように指定する。座標は画像の左上を原点とし、x方向は右が+、y方向は下が*-*となる。**y方向の数値が特殊**なので注意。

### 8.7 ドロップダウンメニュー
あるメニューにマウスを合わせると下にサブメニューが現れるようなものをドロップダウンメニューという。CSSとJavaScriptを組み合わせたりjQueryを使うことでも実現できるが、CSSだけでも簡単なものを作ることはできる。サブメニューを入れ子のul要素としてマークアップし、そのul要素をマウスオーバー時以外は`display: none;`を用いて非表示にすることで実現する。

### 8.8 様々なナビゲーション
グローバルナビゲーション以外にも様々な目的のために様々な種類のナビゲーションが存在する。

+ ローカルナビゲーション: サイト全体ではなく、サイト内の1コンテンツの中でのページ移動をアシストする
+ ステップナビゲーション: 情報が複数ページにわたるときに「全部で何ページあって、今何ページ目か」を表す
+ 関連ナビゲーション: ブログやニュースサイトのオススメ記事、通販サイトのオススメ商品のようなもの
+ ダイレクトナビゲーション: サイト内の特に強調したいページヘ直接誘導する
+ フッターナビゲーション: 著作権表示・個人情報利用規定へのリンクや、サイトマップ、グローバルナビゲーションと同様のサイトナビゲーションを配置する。
  - ユーザーがページを読み終えた後に到達する部分であり、ここでサイト内の別ページにうまく誘導することでWebサイトの回遊率を上げることができる。

### 8.9 パンくずナビゲーション
Webサイトの中で自分がどの階層にいるかを示す。リンクをクリックすれば直感的に上の階層に戻ることができる。情報量が多いサイトでは、ページの階層ではなくカテゴリのようなページの属性を示すものも使われる。

パンくずナビゲーションはul要素やol要素でマークアップすることが多いが、p要素やdiv要素を用いる事例もある。リストとしてマークアップした場合は、表示を横並びにするために`display: inline;`を指定し、リストマークを消す。`#breadcrumbs`のようなidを付けて他のリスト要素と区別する。項目間には「>」のような区切りを表示する。li要素に`:after`擬似要素を用いてて区切り文字を出力することができる。この場合、最後に余計な区切りが表示されるので、`:last-child`という最後の要素だけにスタイルを適用する疑似クラスを用いて、最後のli要素の後には区切り文字を表示しないようにする。

### 8.10 縦並びのナビゲーション
横並びのナビゲーションと同じ手順で作成し、floatを行わなければ縦並びとなる。入れ子の縦並びナビゲーションはドロップダウンメニューと同様に入れ子のリストとしてマークアップしてCSSでデザインを行う。

***

[前へ](l56.md) / [全体目次へ戻る](index.md) / [次へ](l1011.md)
