# Scalaスケーラブルプログラミング 第27章
[全体目次へ戻る](index.md)

## 27章 アノテーション
アノテーションは、ソースコードの各要素に追加できる構造化された付加情報で、主にメタプログラミングツールによって処理される。

### 構文
```scala
// アノテーションの利用例
@deprecated def bigMistake() = ???
// <式>: <アノテーション>という形式も有効
(e: @unchecked) match {
  // ...
}
```

- 一般形: @<アノテーションクラス名>(<式1>, <式2>, ...)
- 引数には定数のみならず、型が合う式を渡すことができる(渡せるものはアノテーションの定義で設定可能)
- 内部的には、アノテーションクラスのコンストラクタ呼び出し
  + `@`を`new`に置き換える、と考えればよい
  + アノテーションを引数として渡す場合のみ、アノテーションクラスを`new`でインスタンス化する必要がある

### 標準アノテーション
- `@deprecated`: 非推奨機能の指定。これがついた機能を利用すると、コンパイラが警告を出す
  + 引数に文字列を指定できる。これは警告の詳細メッセージとなる
- `@volatile`: Javaの`volatile`修飾子と同様
- `@serializable`: クラスをバイナリにシリアライズできることを示す
  + `@SerialVersionUID(uid: Long)`: シリアライズ時に利用されるクラスのバージョン番号
  + `@transient`: シリアライズしないフィールドを指定する
- `@scala.reflect.BeanProperty`: ゲッター/セッターの自動生成
- `@tailrec`: メソッドが末尾再帰であることを示し、最適化を指示する。末尾再帰最適化ができない場合はコンパイルエラーとなる
- `@unchecked`: パターンマッチの網羅性チェックを省略する
- `@native`: メソッドの実装がランタイムによって提供されることを示す
***

[前へ](c26.md) /
[全体目次へ戻る](index.md) /
[次へ](c28.md)
