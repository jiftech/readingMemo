# Scalaスケーラブルプログラミング 第5章
[全体目次へ戻る](index.md)

## 5章 基本型と演算子

### 文字列とシンボル
- 生の文字列: 3個のダブルクオートで囲んだ文字列。エスケープが必要な文字もそのまま書けるし、改行を入れることもできる
  + 行頭に｢|｣を入れ、`stripMargin`を呼び出すと、｢|｣より前の文字を無視した文字列が得られる
- シンボルリテラル: '<識別子>という形のリテラル。何かの名前を簡潔に指定するのに使える
  + 同じ名前のシンボルに対する実体は1つしか作られず、複数の同じシンボルは同じ`Symbol`オブジェクトを参照する
- 文字列補間
  + 文字列リテラルの前に`s`を置くと、文字列内の`$`から始まる任意の式が展開される
    * 式の範囲の明示するためには中括弧{}を用いる
  + 同様に`raw`を置くと、`s`の機能に加えエスケープが必要な文字がそのまま書けるようになる
  + `f`を置くと、展開された式の値に書式を設定できる(文字列のformatメソッドと同様の指定)
    * 書式指定がない場合は`%s`を指定したとみなされる
  + [独自の文字列補間を自前で実装することも可能](http://docs.scala-lang.org/ja/overviews/core/string-interpolation.html)

```scala
val name = "reader"
println(s"Hello, $name!") // => Hello, reader!
println(s"The answer is ${6 * 7}.") // => The answer is 42.

println(raw"No\\\\escape!") // => No\\\\escape!

println(f"${math.Pi}%.5f") // => 3.14159
```

### 演算子
- Scalaの演算子は実際にはメソッド呼び出しの糖衣構文
  + `1 + 2`は`1.+(2)`と等価
  + 引数が2つ以上ある場合は括弧が必要だが、`.`はやはり省略できる
- 単項演算子
  + 前置演算子: `-7`の`-`のような演算子。実体は`unary_-`という名前のメソッドで、`-7`は`7.unary_-`と等価。
    * 使える文字は`+`, `-`, `!`, `~`の4つのみ
  + 後置演算子: 引数なしのメソッドの呼び出しでは引数リストの括弧を省略できる。メソッド呼び出しの`.`と括弧を省略すると、後置演算子に見える
    * 呼び出すメソッドが副作用を持つときは括弧をつけ、そうでなければ括弧を省略するという習慣がある
- 演算子の優先順位は、その頭文字によって決まる
  + (他の特殊文字) > `* / %` > `+  -` > `:` > `= !` > `< >` > `&` > `^` > `|` > (全ての英字) > (全ての代入演算子)
- `:`で終わる演算子は **右結合** になる
  + `a ::: b`は`b.:::(a)`に等しい
  + 被演算子の評価は常に左から行われる

### 等価性
- Scalaでは`==`をオブジェクトの等価性チェックに用いる
  + Javaの`==`(参照の等価性チェック)にあたるのは`eq`メソッドである

***

[前へ](c1.md) /
[全体目次へ戻る](index.md) /
[次へ](c6.md)
