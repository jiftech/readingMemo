# Scalaスケーラブルプログラミング 第6章
[全体目次へ戻る](index.md)

## 6章 関数型スタイルのオブジェクト

- ｢関数型スタイル｣であるとは、イミュータブルである(状態を持たない)ということ
### クラスの定義
+ `class <クラス名>`の後にクラスパラメータの定義をする。これはクラスの **基本コンストラクタ** となる
  * クラスパラメータは、コンストラクタの中でしか使えない
+ **補助コンストラクタ** を追加で定義できる。`def this`から始まるメソッド定義が補助コンストラクタとなる
  * クラスの他のコンストラクタを呼び出すためには`this`を使う
  * 補助コンストラクタの最初の処理では必ず他のコンストラクタを呼ばなければならない
+ メソッドをオーバーライドする際は`override def <メソッド名>`と書く必要がある
+ パラメータの事前条件をチェックするには`require`メソッドを用いる
  * 引数に1つの条件式(Booleanを返す式)をとり、条件を満たさない場合は例外が投げられる

```scala
class Rational(n: Int, d: Int) {
  require(d != 0)
  val numer = n
  val denom = d
  def this(n: Int) = this(n, 1)
  override def toString = n + "/" + d
}
val r = new Rational(1, 2) // n = 1, d = 2のRationalのインスタンスができる
```

### Scalaの識別子
+ 英数字識別子: 先頭が英字か`_`で、その後に英字･数字･`_`が続くもの
  * `$`も使えるが使わないほうが良い
  * Scalaでは様々な意味で用いられる`_`も極力用いない
  * 定数の識別子は先頭を大文字にしたキャメルケースとするのが習慣(Javaと異なる)
+ 演算子識別子: 演算子文字の組み合わせからなる識別子
  * `:`という識別子は内部的には`$colon`という形で表されている
+ ミックス識別子: `<英数字識別子>_<演算子識別子>`という形の識別子
  * `unary_+`など
+ リテラル識別子: バッククォートで囲まれた任意の文字列

### 暗黙の型変換
+ Scalaにはレシーバオブジェクトに存在しないメソッドを呼び出したとき、そのメソッドを持つ型に暗黙的に変換する機構がある
+ `implicit def`で暗黙の型変換を定義する
+ 暗黙の型変換が起きるのは、スコープ内に利用可能な暗黙の型変換が定義されている場合に限る

***

[前へ](c5.md) /
[全体目次へ戻る](index.md) /
[次へ](c7.md)
